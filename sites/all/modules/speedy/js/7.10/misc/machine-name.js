(function(a){Drupal.behaviors.machineName={attach:function(b,c){var d=this;a.each(c.machineName,function(c,e){var f=a(c,b).addClass("machine-name-source"),g=a(e.target,b).addClass("machine-name-target"),h=a(e.suffix,b),i=g.parents(".form-item:first");if(!f.length||!g.length||!h.length||!i.length)return;if(g.hasClass("error"))return;e.maxlength=g.attr("maxlength"),i.hide();if(g.is(":disabled")||g.val()!="")var j=g.val();else var j=d.transliterate(f.val(),e);var k=a('<span class="machine-name-value">'+j+"</span>");h.empty().append(" ").append('<span class="machine-name-label">'+e.label+":</span>").append(" ").append(k);if(g.is(":disabled"))return;var l=a('<span class="admin-link"><a href="#">'+Drupal.t("Edit")+"</a></span>").click(function(){return i.show(),g.focus(),h.hide(),f.unbind(".machineName"),!1});h.append(" ").append(l),g.val()==""&&(f.bind("keyup.machineName change.machineName",function(){j=d.transliterate(a(this).val(),e),j!=e.replace&&j!=""?(g.val(j),k.text(j),h.show()):(h.hide(),g.val(j),k.empty())}),f.keyup())})},transliterate:function(a,b){var c=new RegExp(b.replace_pattern,"g");return a.toLowerCase().replace(c,b.replace).substr(0,b.maxlength)}}})(jQuery);