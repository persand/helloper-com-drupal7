(function(a){Drupal.behaviors.shortcutDrag={attach:function(b,c){if(Drupal.tableDrag){var d=a("table#shortcuts"),e=0,f=0,g=Drupal.tableDrag.shortcuts;a("> tbody > tr, > tr",d).filter(":visible").filter(":odd").filter(".odd").removeClass("odd").addClass("even").end().end().filter(":even").filter(".even").removeClass("even").addClass("odd").end().end().end().filter(".shortcut-slot-empty").each(function(b){a(this).is(":visible")&&e++,f++}),g.row.prototype.onSwap=function(b){var c=a(d).find("tr").index(a(d).find("tr.shortcut-status-disabled"))-f-2,h=0;a(d).find("tr.shortcut-status-enabled").nextAll(":not(.shortcut-slot-empty)").each(function(a){a<c&&h++});var i=f-h;if(i==-1){var j=a(d).find("tr.shortcut-status-disabled"),k=j.prevAll(":not(.shortcut-slot-empty)").not(a(this.element)).get(0);j.after(k);if(a(k).hasClass("draggable")){var l=new g.row(k,"mouse",self.indentEnabled,self.maxDepth,!0);l.markChanged(),g.rowStatusChange(l)}}else i!=e&&(i>e?(a(".shortcut-slot-empty:hidden:last").show(),e++):(a(".shortcut-slot-empty:visible:last").hide(),e--))},g.onDrop=function(){return g.rowStatusChange(this.rowObject),!0},g.rowStatusChange=function(b){var c=a(b.element).prevAll("tr.shortcut-status").get(0),d=c.className.replace(/([^ ]+[ ]+)*shortcut-status-([^ ]+)([ ]+[^ ]+)*/,"$2"),e=a("select.shortcut-status-select",b.element);e.val(d)},g.restripeTable=function(){a("> tbody > tr:visible, > tr:visible",this.table).filter(":odd").filter(".odd").removeClass("odd").addClass("even").end().end().filter(":even").filter(".even").removeClass("even").addClass("odd")}}}},Drupal.behaviors.newSet={attach:function(b,c){var d=function(){a(this).closest("form").find(".form-item-set .form-type-radio:last input").attr("checked","checked")};a("div.form-item-new input").focus(d).keyup(d)}}})(jQuery);