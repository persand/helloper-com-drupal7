(function(a){Drupal.behaviors.termDrag={attach:function(b,c){var d=a("#taxonomy",b),e=Drupal.tableDrag.taxonomy,f=a("tr",d).length;e.row.prototype.onSwap=function(b){a("tr.taxonomy-term-preview",d).removeClass("taxonomy-term-preview"),a("tr.taxonomy-term-divider-top",d).removeClass("taxonomy-term-divider-top"),a("tr.taxonomy-term-divider-bottom",d).removeClass("taxonomy-term-divider-bottom");if(c.taxonomy.backStep){for(var e=0;e<c.taxonomy.backStep;e++)a(d[0].tBodies[0].rows[e]).addClass("taxonomy-term-preview");a(d[0].tBodies[0].rows[c.taxonomy.backStep-1]).addClass("taxonomy-term-divider-top"),a(d[0].tBodies[0].rows[c.taxonomy.backStep]).addClass("taxonomy-term-divider-bottom")}if(c.taxonomy.forwardStep){for(var e=f-c.taxonomy.forwardStep-1;e<f-1;e++)a(d[0].tBodies[0].rows[e]).addClass("taxonomy-term-preview");a(d[0].tBodies[0].rows[f-c.taxonomy.forwardStep-2]).addClass("taxonomy-term-divider-top"),a(d[0].tBodies[0].rows[f-c.taxonomy.forwardStep-1]).addClass("taxonomy-term-divider-bottom")}}}}})(jQuery);